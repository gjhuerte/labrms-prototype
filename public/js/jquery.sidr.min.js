/*! sidr - v2.2.1 - 2016-02-17
 * http://www.berriart.com/sidr/
 * Copyright (c) 2013-2016 Alberto Varela; Licensed MIT */
(function(){var y={};y.classCallCheck=function(i,z){if(!(i instanceof z)){throw new TypeError("Cannot call a class as a function")}};y.createClass=function(){function i(C,A){for(var z=0;z<A.length;z++){var B=A[z];B.enumerable=B.enumerable||false;B.configurable=true;if("value" in B){B.writable=true}Object.defineProperty(C,B.key,B)}}return function(B,z,A){if(z){i(B.prototype,z)}if(A){i(B,A)}return B}}();y;var t={moving:false,opened:false};var a={isUrl:function o(z){var i=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(i.test(z)){return true}else{return false}},addPrefixes:function p(i){this.addPrefix(i,"id");this.addPrefix(i,"class");i.removeAttr("style")},addPrefix:function k(z,A){var i=z.attr(A);if(typeof i==="string"&&i!==""&&i!=="sidr-inner"){z.attr(A,i.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-"+A+"-$1"))}},transitions:function(){var z=document.body||document.documentElement,A=z.style,i=false,B="transition";if(B in A){i=true}else{(function(){var E=["moz","webkit","o","ms"],D=undefined,C=undefined;B=B.charAt(0).toUpperCase()+B.substr(1);i=function(){for(C=0;C<E.length;C++){D=E[C];if(D+B in A){return true}}return false}();B=i?"-"+D.toLowerCase()+"-"+B.toLowerCase():null})()}return{supported:i,property:B}}()};var e=jQuery;var g="sidr-animating";var u="open";var r="close";var b="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";var j=function(){function E(O){y.classCallCheck(this,E);this.name=O;this.item=e("#"+O);this.openClass=O==="sidr"?"sidr-open":"sidr-open "+O+"-open";this.menuWidth=this.item.outerWidth(true);this.speed=this.item.data("speed");this.side=this.item.data("side");this.displace=this.item.data("displace");this.timing=this.item.data("timing");this.method=this.item.data("method");this.onOpenCallback=this.item.data("onOpen");this.onCloseCallback=this.item.data("onClose");this.onOpenEndCallback=this.item.data("onOpenEnd");this.onCloseEndCallback=this.item.data("onCloseEnd");this.body=e(this.item.data("body"))}y.createClass(E,[{key:"getAnimation",value:function L(Q,O){var P={},R=this.side;if(Q==="open"&&O==="body"){P[R]=this.menuWidth+"px"}else{if(Q==="close"&&O==="menu"){P[R]="-"+this.menuWidth+"px"}else{P[R]=0}}return P}},{key:"prepareBody",value:function H(P){var R=P==="open"?"hidden":"";if(this.body.is("body")){var O=e("html"),Q=O.scrollTop();O.css("overflow-x",R).scrollTop(Q)}}},{key:"openBody",value:function i(){if(this.displace){var Q=a.transitions,P=this.body;if(Q.supported){P.css(Q.property,this.side+" "+this.speed/1000+"s "+this.timing).css(this.side,0).css({width:P.width(),position:"absolute"});P.css(this.side,this.menuWidth+"px")}else{var O=this.getAnimation(u,"body");P.css({width:P.width(),position:"absolute"}).animate(O,{queue:false,duration:this.speed})}}}},{key:"onCloseBody",value:function A(){var P=a.transitions,O={width:"",position:"",right:"",left:""};if(P.supported){O[P.property]=""}this.body.css(O).unbind(b)}},{key:"closeBody",value:function N(){var Q=this;if(this.displace){if(a.transitions.supported){this.body.css(this.side,0).one(b,function(){Q.onCloseBody()})}else{var P=this.getAnimation(r,"body");this.body.animate(P,{queue:false,duration:this.speed,complete:function O(){Q.onCloseBody()}})}}}},{key:"moveBody",value:function J(O){if(O===u){this.openBody()}else{this.closeBody()}}},{key:"onOpenMenu",value:function I(P){var O=this.name;t.moving=false;t.opened=O;this.item.unbind(b);this.body.removeClass(g).addClass(this.openClass);this.onOpenEndCallback();if(typeof P==="function"){P(O)}}},{key:"openMenu",value:function G(S){var R=this;var Q=this.item;if(a.transitions.supported){Q.css(this.side,0).one(b,function(){R.onOpenMenu(S)})}else{var O=this.getAnimation(u,"menu");Q.css("display","block").animate(O,{queue:false,duration:this.speed,complete:function P(){R.onOpenMenu(S)}})}}},{key:"onCloseMenu",value:function K(O){this.item.css({left:"",right:""}).unbind(b);e("html").css("overflow-x","");t.moving=false;t.opened=false;this.body.removeClass(g).removeClass(this.openClass);this.onCloseEndCallback();if(typeof O==="function"){O(name)}}},{key:"closeMenu",value:function F(S){var Q=this;var R=this.item;if(a.transitions.supported){R.css(this.side,"").one(b,function(){Q.onCloseMenu(S)})}else{var O=this.getAnimation(r,"menu");R.animate(O,{queue:false,duration:this.speed,complete:function P(){Q.onCloseMenu()}})}}},{key:"moveMenu",value:function D(O,P){this.body.addClass(g);if(O===u){this.openMenu(P)}else{this.closeMenu(P)}}},{key:"move",value:function z(O,P){t.moving=true;this.prepareBody(O);this.moveBody(O);this.moveMenu(O,P)}},{key:"open",value:function C(Q){var O=this;if(t.opened===this.name||t.moving){return}if(t.opened!==false){var P=new E(t.opened);P.close(function(){O.open(Q)});return}this.move("open",Q);this.onOpenCallback()}},{key:"close",value:function M(O){if(t.opened!==this.name||t.moving){return}this.move("close",O);this.onCloseCallback()}},{key:"toggle",value:function B(O){if(t.opened===this.name){this.close(O)}else{this.open(O)}}}]);return E}();var f=jQuery;function l(A,z,B){var i=new j(z);switch(A){case"open":i.open(B);break;case"close":i.close(B);break;case"toggle":i.toggle(B);break;default:f.error("Method "+A+" does not exist on jQuery.sidr");break}}var s;var h=jQuery;var x=["open","close","toggle"];var n;var w={};var c=function c(i){return function(z,A){if(typeof z==="function"){A=z;z="sidr"}else{if(!z){z="sidr"}}l(i,z,A)}};for(s=0;s<x.length;s++){n=x[s];w[n]=c(n)}function v(i){if(i==="status"){return t}else{if(w[i]){return w[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="function"||typeof i==="string"||!i){return w.toggle.apply(this,arguments)}else{h.error("Method "+i+" does not exist on jQuery.sidr")}}}}var d=jQuery;function q(C,B){if(typeof B.source==="function"){var i=B.source(name);C.html(i)}else{if(typeof B.source==="string"&&a.isUrl(B.source)){d.get(B.source,function(E){C.html(E)})}else{if(typeof B.source==="string"){var D="",A=B.source.split(",");d.each(A,function(E,F){D+='<div class="sidr-inner">'+d(F).html()+"</div>"});if(B.renaming){var z=d("<div />").html(D);z.find("*").each(function(F,G){var E=d(G);a.addPrefixes(E)});D=z.html()}C.html(D)}else{if(B.source!==null){d.error("Invalid Sidr Source")}}}}return C}function m(G){var F=a.transitions,A=d.extend({name:"sidr",speed:200,side:"left",source:null,renaming:true,body:"body",displace:true,timing:"ease",method:"toggle",bind:"touchstart click",onOpen:function B(){},onClose:function D(){},onOpenEnd:function C(){},onCloseEnd:function E(){}},G),i=A.name,z=d("#"+i);if(z.length===0){z=d("<div />").attr("id",i).appendTo(d("body"))}if(F.supported){z.css(F.property,A.side+" "+A.speed/1000+"s "+A.timing)}z.addClass("sidr").addClass(A.side).data({speed:A.speed,side:A.side,body:A.body,displace:A.displace,timing:A.timing,method:A.method,onOpen:A.onOpen,onClose:A.onClose,onOpenEnd:A.onOpenEnd,onCloseEnd:A.onCloseEnd});z=q(z,A);return this.each(function(){var J=d(this),I=J.data("sidr"),H=false;if(!I){t.moving=false;t.opened=false;J.data("sidr",i);J.bind(A.bind,function(K){K.preventDefault();if(!H){H=true;v(A.method,i);setTimeout(function(){H=false},100)}})}})}jQuery.sidr=v;jQuery.fn.sidr=m}());